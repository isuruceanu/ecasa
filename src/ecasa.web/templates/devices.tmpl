
<div ng-app="homeDevices" ng-controller="MainCtl">
<div class="box">
	<div class="box-header">
		<h3 class="box-title">Manage devices</h3>
    </div>
	<div class="box-body">
        <a class="btn btn-app" data-toggle="modal" data-target="#addDeviceDlg"> <i class="fa fa-plus-circle"></i> Add </a>
        <a class="btn btn-app" ng-click="search()"> <i class="fa fa-search"></i> Search </a>
	</div>
</div>

<div class="row" >
	{{range .}}
	<div class="col-md-4">
		<div class="box box-solid bg-light-blue">
			<div class="box-header">
				<h3 class="box-title">#{{.Id}}</h3>
				<span class="break"></span>
				<h3 class="box-title">{{.Name}}</h3>
				<div class="pull-right box-tools">
					<div class="btn-group">
						<button class="btn btn-primary btn-sm dropdown-toggle" data-toggle="dropdown"><i class="fa fa-bars"></i></button>
							<ul class="dropdown-menu pull-right" role="menu">
                                <li><a href="#">Change name</a></li>
                                <li><a href="#">Change id</a></li>
                                <li class="divider"></li>
                                <li><a href="#">Do something</a></li>
                            </ul>
                        </div>
                        <button class="btn btn-primary btn-sm" data-widget="collapse"><i class="fa fa-minus"></i></button>
                    </div><!-- /. tools -->
			</div>
			<div class="box-body">
             Box class: <code>.box.box-solid.box-danger</code>
             <p>
                 amber, microbrewery abbey hydrometer, brewpub ale lauter tun saccharification oxidized barrel.
                 berliner weisse wort chiller adjunct hydrometer alcohol aau!
                 sour/acidic sour/acidic chocolate malt ipa ipa hydrometer.
             </p>
			</div><!-- /.box-body -->
		</div><!-- /.box -->
	</div><!-- /.col -->
	{{end}}
</div>


<div class="modal" id="addDeviceDlg" tabindex="-1" role="dialog" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
				<h4 class="modal-title"><i class="fa fa-gears"></i> Create new device</h4>
			</div>
			<form action="/devices" method="post">
				<div class="modal-body">
					<div class="form-group">
						<div class="input-group">
							<span class="input-group-addon">@</span>
                            <input type="text" class="form-control" placeholder="Title">
						</div>
					</div>
					<div class="form-group">
						<div class="input-group">
							<span class="input-group-addon"><i class="fa fa-laptop"></i></span>
							<input type="text" class="form-control" data-inputmask="'alias': 'ip'" data-mask/>
						</div>
					</div>
					
			
				</div>
				<div class="modal-footer clearfix">
			
					<button type="button" class="btn btn-danger" data-dismiss="modal"><i class="fa fa-times"></i> Discard</button>
			
					<button type="submit" class="btn btn-primary pull-left"><i class="fa fa-envelope"></i> Create</button>
				</div>
			</form>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->


<script>


	var app = new angular.module("homeDevices", []);
	app.controller("MainCtl", ["$scope", function($scope){
		
		$("#dialog").dialog({
                    autoOpen: false,
                    show: {
                        effect: "blind",
                        duration: 1000
                    },
                    hide: {
                        effect: "explode",
                        duration: 1000
                    }
                });
		
		$scope.devices = [];
		
		$scope.add = function(){
			$("#dialog").dialog("open");
		}
		
		$scope.search = function(){
			alert("search btn clicked");
		}
	}]);
</script>